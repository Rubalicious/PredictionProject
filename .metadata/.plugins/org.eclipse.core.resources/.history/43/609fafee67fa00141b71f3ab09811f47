package View;

import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Dimension;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.ComponentEvent;
import java.awt.event.ComponentListener;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JMenu;
import javax.swing.JMenuBar;
import javax.swing.JMenuItem;
import javax.swing.JOptionPane;
import javax.swing.JSlider;
import javax.swing.Timer;

import Model.IsingModel;


public class Controller extends JFrame {
	private boolean run = false;
	private Timer t = new Timer(10, new ActionListener(){
		public void actionPerformed(ActionEvent e){
			ising.step();
		}
	});
	private Timer repaintTimer = new Timer(100, new ActionListener(){
		public void actionPerformed(ActionEvent e){
			repaint();
		}
	});
	private CustomJPanel ising;
	private JLabel comment = new JLabel("A Comment here");
	
	public Controller(){
		super("Ising Model Simulation");
		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		setLocation(400, 150);
		//setLayout(new BorderLayout());
		setPreferredSize(new Dimension(500,500));
		
		//menubar
		JMenuBar theMenuBar = new JMenuBar();
		JMenu file = new JMenu("file");
		JMenuItem about = new JMenuItem("about");
		
		about.addActionListener(new ActionListener(){
			public void actionPerformed(ActionEvent e){
				JOptionPane.showMessageDialog(null, new JLabel("some string"));
			}
		});
		file.add(about);
		theMenuBar.add(file);
		setJMenuBar(theMenuBar);
		//CustomJPanel
		ising = new CustomJPanel(new IsingModel(5));
		ising.setLocation(20,20);
		ising.setSize(500,500);
		comment.setSize(150, 20);
		comment.setLocation(50, 50);
		add(comment);
		JButton runButton = new JButton("Run");

		//add in a dropdown box for pixels
		runButton.addActionListener(new ActionListener(){
			public void actionPerformed(ActionEvent e){
				run = !run;
				if(run){
					runButton.setText("pause");
					t.start();
					repaintTimer.start();
				}
				else{
					runButton.setText("run");
					t.stop();
					repaintTimer.stop();
				}
			}
		});
		
		JSlider slider = new JSlider();
		slider.addComponentListener(new ComponentListener(){
			public void actionPerformed(ActionEvent e){
				
			}

			@Override
			public void componentResized(ComponentEvent e) {
				// TODO Auto-generated method stub
				
			}

			@Override
			public void componentMoved(ComponentEvent e) {
				// TODO Auto-generated method stub
				
			}

			@Override
			public void componentShown(ComponentEvent e) {
				// TODO Auto-generated method stub
				
			}

			@Override
			public void componentHidden(ComponentEvent e) {
				// TODO Auto-generated method stub
				
			}
		});
		
		add(ising, BorderLayout.CENTER);
		add(slider, BorderLayout.SOUTH);
		add(runButton, BorderLayout.SOUTH);
		setSize(new Dimension(500,500));
		pack();
		setVisible(true);
	}
	
	public static void main (String [] args){
		Controller window = new Controller(); 
	}
	
}
//google Observer and Observable
//use a swing timer
//Java graphics and paint component
